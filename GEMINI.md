# Instructions for AI agents

此專案的目的是要撰寫一個 Python 程式來生成統計圖。

## 協作原則

* 所有的回應以及程式碼當中的註解，如有中文，一律使用台灣用語的繁體中文。

## 檔案格式分析

Sample file: [sample-glucose_2025-10-27.csv](requirement/sample-glucose_2025-10-27.csv)

這是一個從「輔理善瞬感連線 (FreeStyle LibreLink)」連續血糖監測器匯出的 CSV 檔案。檔案名稱中的日期 (例如 `2025-10-27`) 是指資料蒐集的**最後一天**，而檔案本身最多可包含 **14 天**的歷史數據。

檔案中最重要的欄位是：

* **裝置時間戳記**: 記錄的時間點。
* **記錄類型**: 區分不同類型的事件。
  * `0`: **歷史葡萄糖** - 感應器自動記錄的血糖值 (每 15 分鐘一筆)。
  * `1`: **掃描葡萄糖** - 使用者手動掃描感應器得到的血糖值。
  * `5`: **速效胰島素** - 記錄胰島素注射。
  * `6`: **備註** - 記錄飲食、運動或其他事件。
* **歷史葡萄糖 mg/dL**: 自動記錄的血糖數值。
* **掃描葡萄-糖 mg/dL**: 手動掃描的血糖數值。
* **備註**: 使用者輸入的文字，例如飲食內容或運動。

此檔案包含了繪製血糖圖表所需的血糖數據，以及可用於標註的飲食、胰島素和生活事件資訊。

**資料處理注意事項**：CSV 檔案中的紀錄不保證按時間順序排列。在進行任何資料分析或繪圖之前，**必須**先根據「裝置時間戳記」欄位對所有紀錄進行排序，以確保資料的時序正確性。

## 統計圖分析

Sample chart: [sample-glucose-chart.png](requirement/sample-glucose-chart.png)

此圖表是我們程式生成的目標，其資料呈現方式分析如下：

### 整體結構

圖表主要分為四個水平區域，由上到下分別是：

1. **血糖曲線圖**: 核心區域，顯示血糖值的連續變化。
2. **血糖高低值**: 以數字顯示每兩小時內的最高與最低血糖。
3. **碳水化合物**: 以圖示標示飲食事件的時間點。
4. **備註**: 顯示使用者在特定時間點輸入的文字備註。

### 細部解析

* **座標軸**:
  * **X 軸 (時間)**: 00:00 到 24:00，以兩小時為一刻度。
  * **Y 軸 (血糖值)**: 單位 mg/dL，標示了 0, 70, 180, 350 等刻度。
* **血糖曲線圖區域**:
  * **目標範圍**: 在 70-180 mg/dL 之間有灰色水平帶。
  * **血糖曲線**: 藍色實線連接所有歷史血糖數據點。
  * **掃描血糖點**: 手動掃描的血糖值以帶有數值標籤的黃色蘋果圖示標示。
* **血糖高低值區域**:
  * 每兩小時為一欄，顯示該區段的最高與最低血糖值。
* **碳水化合物區域**:
  * 以黃色蘋果圖示標示飲食事件的時間點。
* **備註區域**:
  * 將文字備註根據時間點顯示在圖表最下方。

### 結論

此圖表整合了血糖趨勢、目標範圍、特定事件 (飲食、備註) 的關聯性，並提供數據摘要，是我們重製此圖表的絕佳範本。
